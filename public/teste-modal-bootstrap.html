<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Teste Modal Bootstrap</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container mt-5">
      <h1>Teste de Modal Bootstrap 5</h1>

      <!-- Bot√£o que abre o modal -->
      <button
        type="button"
        class="btn btn-primary"
        data-bs-toggle="modal"
        data-bs-target="#exemploModal"
      >
        üöÄ Abrir Modal de Teste
      </button>

      <!-- Modal -->
      <div
        class="modal fade"
        id="exemploModal"
        tabindex="-1"
        aria-labelledby="exemploModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exemploModalLabel">
                ‚úÖ Modal Funcionando!
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <p>
                Se voc√™ est√° vendo este modal, significa que o Bootstrap 5 est√°
                funcionando corretamente!
              </p>
              <div class="alert alert-success">
                <strong>Sistema OK:</strong> Modais funcionando perfeitamente.
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Fechar
              </button>
              <button type="button" class="btn btn-primary">
                Salvar mudan√ßas
              </button>
            </div>
          </div>
        </div>
      </div>

      <hr class="my-4" />

      <h3>Console de Debug:</h3>
      <div
        id="debug-output"
        class="bg-dark text-light p-3 rounded"
        style="font-family: monospace"
      >
        <div>Aguardando testes...</div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      const debugOutput = document.getElementById("debug-output");

      function log(message) {
        const div = document.createElement("div");
        div.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
        debugOutput.appendChild(div);
        debugOutput.scrollTop = debugOutput.scrollHeight;
      }

      document.addEventListener("DOMContentLoaded", function () {
        log("‚úÖ DOM carregado");
        log(
          "‚úÖ jQuery: " +
            (typeof $ !== "undefined" ? "Dispon√≠vel" : "N√ÉO dispon√≠vel")
        );
        log(
          "‚úÖ Bootstrap: " +
            (typeof bootstrap !== "undefined" ? "Dispon√≠vel" : "N√ÉO dispon√≠vel")
        );

        // Testar se os modais funcionam
        const modalElement = document.getElementById("exemploModal");
        if (modalElement) {
          modalElement.addEventListener("show.bs.modal", function () {
            log("üéâ Modal sendo aberto!");
          });

          modalElement.addEventListener("shown.bs.modal", function () {
            log("‚úÖ Modal totalmente aberto!");
          });

          modalElement.addEventListener("hide.bs.modal", function () {
            log("üì¥ Modal sendo fechado...");
          });
        }

        // Testar clique no bot√£o
        $('[data-bs-toggle="modal"]').on("click", function () {
          log("üñ±Ô∏è Bot√£o de modal clicado: " + $(this).data("bs-target"));
        });
      });
    </script>
  </body>
</html>
